{% extends "base.html" %}
{% block title %}
Colleges
{% endblock %}
{% block content %}
{% if msg2 %}
<div class="alert alert-warning alert-dismissible fade show" role="alert" style="width:95%; margin:0 auto; margin-top:10px;">
  {{ msg2 }}
  <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
</div>
{% endif %}
<div class="mt-3 mb-2" style="width:95%; margin:0 auto;">
  <button type="button" class="btn btn-primary edit-btn" data-bs-toggle="modal" data-bs-target="#addCollegeModal">
    Add College
  </button>
</div>
 <div class="modal fade" id="addCollegeModal" tabindex="-1" aria-labelledby="addCollegeModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">

    
      <div class="modal-header" style="background-color:#0d6efd;">
        <h5 class="modal-title text-white" id="addCollegeModalLabel">
          Add College
        </h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
      </div>

      <div class="modal-body">
        <form action="/c_create" method="post" id="addCollegeForm">

          <div class="mb-3">
            <input type="text" class="form-control" name="college_id" placeholder="College ID" required>
          </div>

          <div class="mb-3">
            <input type="text" class="form-control" name="college_name" placeholder="College Name" required>
          </div>

        </form>
      </div>


      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
          Close
        </button>

        <button type="button" class="btn btn-primary edit-btn" data-bs-toggle="modal" data-bs-target="#confirmCollegeModal">
          Create
        </button>
      </div>

    </div>
  </div>
</div>
<div class="modal fade" id="confirmCollegeModal" tabindex="-1" aria-labelledby="confirmCollegeLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">

      <div class="modal-header">
        <h5 class="modal-title" id="confirmCollegeLabel">Confirm Submission</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>

      <div class="modal-body">
        Are you sure you want to create this college?
      </div>

      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
          Cancel
        </button>

        <button type="submit" class="btn btn-primary edit-btn" form="addCollegeForm">
          Yes, Create
        </button>
      </div>

    </div>
  </div>
</div>




<div  class="mt-3">
<table id="collegeTable" class="table table-striped" style  = "margin: 0 auto;width: 95%;">
<thead>
<tr>
  <th>College ID</th>
  <th>College Name</th>
  <th>Actions</th>
</tr>
</thead>
 <tbody>
    {% include "collegerows.html" %}
  </tbody>
</table>
</div>

<script>
 $(document).ready(function() {
    $('#collegeTable').DataTable({
            dom: "<'row'<'col-sm-6'f><'col-sm-6'l>>" + 
     "<'row'<'col-sm-12'tr>>" +        
     "<'row mt-2'<'col-sm-6'i><'col-sm-6'p>>",
      "pageLength": 10,
      "ordering": true,
      "searching": true,
      "info": true,
      "lengthChange": true
    });
    $(document).on("click", ".open",function(){
    var formId = $(this).data('form-id');
    $("#" + formId).show();
  });
  

  $(document).on("click", ".close", function(){
    var formId = $(this).data('form-id');
    $("#" + formId).hide();
  });
});


  




</script>


{% endblock %}